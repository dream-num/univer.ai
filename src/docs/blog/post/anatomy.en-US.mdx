---
title: å¦‚ä½•ç¼–å†™ç¬¦åˆæ¶æ„çš„æ’ä»¶
desc: è¿™ç¯‡æ–‡ç« ä»¥ Univer å›¢é˜Ÿå¼€å‘çš„ç­›é€‰æ’ä»¶ä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•ç¼–å†™ç¬¦åˆ Univer æ¶æ„çš„æ’ä»¶ï¼Œæ¶‰åŠæ’ä»¶ç³»ç»Ÿã€ä¾èµ–æ³¨å…¥ã€èµ„æºåŠ è½½ã€å‘½ä»¤æ¨¡å¼ã€Render Unit ç­‰ç­‰ä¸»é¢˜ï¼Œé€‚åˆæƒ³è¦å¼€å‘ Univer æ’ä»¶çš„å¼€å‘è€…é˜…è¯»ã€‚
tags:
  - Plugin
  - Tutorial
  - Custom
  - Architecture
cover: ./anatomy.png
author: Wenzhao Hu
date: 2024-08-17
---

import { Callout } from 'nextra/components'

# å¦‚ä½•ç¼–å†™ç¬¦åˆæ¶æ„çš„æ’ä»¶ï¼Ÿ

Univer æä¾›äº† Facade APIï¼Œä½¿å¾—å¼€å‘è€…ä»¬å¯ä»¥ç®€å•åœ°è°ƒç”¨ API æ¥å®ç°ä¸€äº›è‡ªå®šä¹‰åŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œå¦‚æœæƒ³è¦æ·±åº¦å®šåˆ¶æˆ–è€…æ˜¯å¼€å‘ä¸€ä¸ªå…¨æ–°çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå°±éœ€è¦äº†è§£ Univer çš„æ¶æ„ï¼Œå¹¶å­¦ä¹ å¦‚ä½•ç¼–å†™ç¬¦åˆæ¶æ„çš„æ’ä»¶ã€‚

ä¸ºäº†å¸®åŠ©é‚£äº›æƒ³è¦å¼€å‘ Univer æ’ä»¶çš„å¼€å‘è€…ï¼Œæˆ‘ä»¬å°†ä»¥ Univer å›¢é˜Ÿå¼€å‘çš„ç­›é€‰æ’ä»¶ä¸ºä¾‹è¿›è¡Œä»‹ç»ï¼Œæ¶‰åŠæ’ä»¶ç³»ç»Ÿã€ä¾èµ–æ³¨å…¥ã€èµ„æºåŠ è½½ã€å‘½ä»¤æ¨¡å¼ã€Render Unit ç­‰ç­‰ä¸»é¢˜ã€‚ä½ å¯ä»¥åœ¨ [GitHub](https://github.com/dream-num/univer/tree/dev/packages) ä¸Šæ‰¾åˆ° sheets-filter å’Œ sheets-filter-ui ä¸¤ä¸ªæ’ä»¶çš„æºç ã€‚

---

## åˆ›å»ºæ’ä»¶

åœ¨ Univer ä¸­ï¼Œæ’ä»¶å¾€å¾€ä¼šè¢«å°è£…ä¸ºä¸€ä¸ª npm åŒ…ï¼Œã€‚ä¾‹å¦‚ sheets-filter-ui æ’ä»¶åŒ…çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š
ç­›é€‰åŠŸèƒ½è¢«åˆ’åˆ†åœ¨ä¸¤ä¸ªåŒ…å½“ä¸­ï¼š

sheets-filter 

* å®šä¹‰äº†ç­›é€‰çš„è¿è¡Œæ—¶ model ä»¥åŠåœ¨ snapshot ä¸­çš„ç»“æ„
* å®šä¹‰äº†æ”¹å˜è¿™äº›è¿è¡Œæ—¶æ•°æ®ç»“æ„çš„ mutations
* å®ç°äº†ç®¡ç†å¤šä¸ªå·¥ä½œç°¿å’Œå·¥ä½œè¡¨ä¸­ç­›é€‰ model çš„ service
* å°†ä»¥ä¸Šæ¨¡å—å°è£…åœ¨ `UniverSheetsFilterPlugin` å½“ä¸­

sheets-filter-ui

* 

<Callout type="info" emoji="ğŸ’¡">
  å…³äºå¦‚ä½•åˆ’åˆ†æ’ä»¶ï¼Œå¯ä»¥å‚è€ƒæ¶æ„æ–‡æ¡£çš„[ç›¸å…³ç« èŠ‚](/guides/sheets/architecture/univer#å¦‚ä½•åˆ’åˆ†æ’ä»¶)ã€‚
</Callout>

<Callout>
  ä½ å¯ä»¥ä½¿ç”¨å®˜æ–¹æä¾›çš„ CLI æ¥åˆ›å»ºä¸€ä¸ªæ’ä»¶çš„ npm åŒ…ã€‚
</Callout>


```plaintext
.
â”œâ”€â”€ package.json
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ __testing__ // ç”¨äºæµ‹è¯•çš„è¾…åŠ©æ–‡ä»¶ï¼Œä¸åŒ…å«ç”¨ä¾‹
â”‚   â”‚   â””â”€â”€ data.ts
â”‚   â”œâ”€â”€ commands
â”‚   â”‚   â”œâ”€â”€ commands
â”‚   â”‚   â””â”€â”€ operations
â”‚   â”œâ”€â”€ controllers
â”‚   â”‚   â”œâ”€â”€ __tests__ // æ”¾æµ‹è¯•ç”¨ä¾‹
â”‚   â”‚   â”œâ”€â”€ sheets-filter-mobile-ui.controller.ts
â”‚   â”‚   â”œâ”€â”€ sheets-filter-permission.controller.ts
â”‚   â”‚   â”œâ”€â”€ sheets-filter-render.controller.ts
â”‚   â”‚   â”œâ”€â”€ sheets-filter-ui.controller.ts
â”‚   â”‚   â”œâ”€â”€ sheets-filter.menu.ts
â”‚   â”‚   â””â”€â”€ sheets-filter.shortcut.ts
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ locale // å›½é™…åŒ–
â”‚   â”‚   â”œâ”€â”€ en-US.ts
â”‚   â”‚   â”œâ”€â”€ ru-RU.ts
â”‚   â”‚   â”œâ”€â”€ vi-VN.ts
â”‚   â”‚   â”œâ”€â”€ zh-CN.ts
â”‚   â”‚   â””â”€â”€ zh-TW.ts
â”‚   â”œâ”€â”€ models
â”‚   â”‚   â”œâ”€â”€ __tests__
â”‚   â”‚   â”œâ”€â”€ conditions.ts
â”‚   â”‚   â”œâ”€â”€ extended-operators.ts
â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â”œâ”€â”€ plugin.ts
â”‚   â”œâ”€â”€ services
â”‚   â”‚   â”œâ”€â”€ __tests__
â”‚   â”‚   â””â”€â”€ sheets-filter-panel.service.ts
â”‚   â”œâ”€â”€ views // UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components // React ç»˜åˆ¶çš„éƒ¨åˆ†
â”‚   â”‚   â””â”€â”€ widgets // Canvas ç»˜åˆ¶çš„éƒ¨åˆ†
â”‚   â””â”€â”€ worker
â”‚       â”œâ”€â”€ generate-filter-values.service.ts
â”‚       â””â”€â”€ plugin.ts
```

æ’ä»¶å†…éƒ¨æŒ‰ç…§å±‚æ¬¡ç»“æ„æ¥åˆ’åˆ†ä»£ç ã€‚

## åŠ è½½å’Œè½ç›˜èµ„æº



## è®¾è®¡æ¨¡å—

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡æ’ä»¶å†…åŒ…å«çš„æ¨¡å—ã€‚

## è®¾è®¡æ¨¡å‹


## ä½¿ç”¨ ViewModel æ¥æ§åˆ¶ Univer çš„æ¸²æŸ“

## ç¼–å†™æ¸²æŸ“å±‚

## ä½¿ç”¨ React å¼€å‘ UI

## å›½é™…åŒ–

## Facade API

<p className="text-gray-500 text-sm mt-8">ä½œè€…ï¼š[Wenzhao Hu](https://github.com/wzhudev) Univer ç ”å‘ Leader</p>
