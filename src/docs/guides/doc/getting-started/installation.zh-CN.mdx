import { Callout, Tabs } from 'nextra/components'
import ReactLive from '@/components/ReactLive'
import BadgeGroup, { UniverTypes } from '@/components/BadgeGroup'

# å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨

<BadgeGroup values={[UniverTypes.SHEET, UniverTypes.DOC, UniverTypes.SLIDE]} value={UniverTypes.DOC} />

Univer ä» 0.5.0 ç‰ˆæœ¬èµ·æä¾›äº† `@univerjs/presets` åŒ…ï¼Œå®ƒé’ˆå¯¹ä¸€äº›å¸¸è§åœºæ™¯æä¾›äº†é¢„è®¾çš„é…ç½®ï¼Œå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿåœ°æ­å»ºä¸€ä¸ª Univer åº”ç”¨è€Œæ— éœ€å…³å¿ƒå¦‚ä½•å¼•å…¥å’Œé…ç½® Univer æ’ä»¶ã€‚

<Callout type="info" emoji="ğŸƒ">
  å¦‚æœä½ æ˜¯é¦–æ¬¡ä½¿ç”¨ Univerï¼Œæˆ‘ä»¬æ¨èä» Presets å¼€å§‹ã€‚åœ¨åç»­çš„å°èŠ‚ä¸­ï¼Œé™¤éç‰¹æ®Šè¯´æ˜ï¼Œæˆ‘ä»¬éƒ½ä¼šå‡è®¾ä½ ä½¿ç”¨äº† Presetsã€‚å¦‚æœä½ å·²ç»è¾ƒä¸ºç†Ÿæ‚‰ Univerï¼Œå¹¶ä¸”å¸Œæœ›æ›´åŠ çµæ´»åœ°å¼•å…¥æ’ä»¶ï¼ˆä¾‹å¦‚æ‡’åŠ è½½éƒ¨åˆ†æ’ä»¶ï¼‰ï¼Œå¯ä»¥å‚è€ƒ [é«˜çº§å¼•å…¥æ–¹å¼](/guides/doc/advanced-installation)ã€‚
</Callout>

## ä½¿ç”¨åŒ…ç®¡ç†å™¨

å¦‚æœä½ çš„é¡¹ç›®ä¸­å·²ç»å¼•å…¥äº†ç°ä»£å‰ç«¯å¼€å‘å·¥å…·ï¼Œé‚£ä¹ˆå¼•å…¥ Univer å°†ä¼šéå¸¸ç®€å•ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨ [Vite](https://vitejs.dev/)ã€[esbuild](https://esbuild.github.io/) æˆ– [Webpack 5](https://webpack.js.org/) ç­‰å¯¹ ES Module æ”¯æŒè¾ƒå¥½çš„æ„å»ºå·¥å…·æ¥æ„å»º Univer åº”ç”¨ã€‚å¦‚æœä½ ä½¿ç”¨äº†å…¶å®ƒæ„å»ºå·¥å…·ï¼ˆä¾‹å¦‚ Webpack 4ï¼‰ï¼Œå¯èƒ½ä¼šéœ€è¦ä¸€äº›é¢å¤–çš„é…ç½®ï¼Œè¯·é˜…è¯» [å¸¸è§é—®é¢˜](/guides/sheet/troubleshooting) è·å–æ›´å¤šä¿¡æ¯ã€‚

### å®‰è£…

é€‰æ‹©ä½ æ‰€ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ä»¥å®‰è£… `@unvierjs/presets`ï¼š

<Tabs items={['pnpm', 'npm', 'yarn']}>
  <Tabs.Tab label="pnpm">
    ```shell
    pnpm add @univerjs/presets
    ```
  </Tabs.Tab>
  <Tabs.Tab label="npm">
    ```shell
    npm install @univerjs/presets
    ```
  </Tabs.Tab>
  <Tabs.Tab label="yarn">
    ```shell
    yarn add @univerjs/presets
    ```
  </Tabs.Tab>
</Tabs>


### ä½¿ç”¨

```typescript
import { createUniver, defaultTheme, LocaleType } from '@univerjs/presets';
import { zhCN } from '@univerjs/presets/docs/docs-basic/zh-CN';
import { UniverDocsBasicPreset } from '@univerjs/presets/presets/docs/docs-basic/index.js';

const { univerAPI } = createUniver({
    locale: LocaleType.ZH_CN,
    theme: defaultTheme,
    presets: [
        UniverDocsBasicPreset({ locales: { zhCN } }),
    ],
});

univerAPI.createUniverDoc({});
```

export const code = `const univer = new Univer({
  theme: defaultTheme,
  locale: LocaleType.ZH_CN,
  locales: {
    [LocaleType.ZH_CN]: zhCN,
  },
});

univer.registerPlugin(UniverRenderEnginePlugin);
univer.registerPlugin(UniverFormulaEnginePlugin);

univer.registerPlugin(UniverUIPlugin, {
  container: 'app',
  footer: false,
});

univer.registerPlugin(UniverDocsPlugin);
univer.registerPlugin(UniverDocsUIPlugin, {
  container: 'univerdoc',
  layout: {
    docContainerConfig: {
      innerLeft: false,
    },
  },
});

univer.createUnit(UniverInstanceType.UNIVER_DOC, {});`

<ReactLive code={code} />

### æ›´æ–°

```shell
pnpm update "@univerjs/presets" @latest
```

## é€šè¿‡ `<script>` æ ‡ç­¾å¼•å…¥

å¦‚æœä½ ä¸ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ `<script>` æ ‡ç­¾å¼•å…¥ Univerã€‚

### ç¤ºä¾‹

æˆ‘ä»¬åœ¨å½“å‰ä¸»æµçš„ CDN æœåŠ¡å•†ï¼ˆä¾‹å¦‚ jsDelivrã€unpkgï¼‰éƒ½æä¾›äº† Univer çš„ UMD æ„å»ºï¼Œä½ å¯ä»¥åœ¨ HTML æ–‡ä»¶ä¸­å¼•å…¥è¿™äº›èµ„æºï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸‹è½½è¿™äº›æ–‡ä»¶ç„¶åé€šè¿‡è‡ªå·±çš„æœåŠ¡å™¨æˆ–è€… CDN ç½‘ç»œåˆ†å‘ï¼‰ï¼š

```html
<head>
  <script src="https://unpkg.com/@univerjs/umd/lib/univer.full.umd.js"></script>
  <script src="https://unpkg.com/@univerjs/umd/lib/locale/zh-CN.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/@univerjs/umd/lib/univer.css">
</head>
<body>
  <div id="app"></div>

  <script>
    var {
      UniverCore,
      UniverDesign,
      UniverEngineRender,
      UniverEngineFormula,
      UniverDocs,
      UniverDocsUi,
      UniverUi,
      UniverFacade,
    } = window

    var univer = new UniverCore.Univer({
      theme: UniverDesign.defaultTheme,
      locale: UniverCore.LocaleType.ZH_CN,
      locales: {
        [UniverCore.LocaleType.ZH_CN]: UniverUMD['zh-CN'],
      },
    });

    univer.registerPlugin(UniverEngineRender.UniverRenderEnginePlugin);
    univer.registerPlugin(UniverEngineFormula.UniverFormulaEnginePlugin);

    univer.registerPlugin(UniverUi.UniverUIPlugin, {
      container: "app",
    });

    univer.registerPlugin(UniverDocs.UniverDocsPlugin);
    univer.registerPlugin(UniverDocsUi.UniverDocsUIPlugin, {
      container: 'univerdoc',
      layout: {
        docContainerConfig: {
          innerLeft: false,
        },
      },
    });

    univer.createUnit(UniverCore.UniverInstanceType.UNIVER_DOC, {})

    const univerAPI = UniverFacade.FUniver.newAPI(univer)
  </script>
</body>
```

ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡ CDN å¼•å…¥ Univer çš„æ–¹å¼å’Œä½¿ç”¨åŒ…ç®¡ç†å·¥å…·å¼•å…¥çš„æ–¹å¼åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯æ¯ä¸ªæ’ä»¶éƒ½æœ‰å±äºè‡ªå·±çš„å‘½åç©ºé—´ã€‚é€šå¸¸è¿™äº›å‘½åç©ºé—´çš„å‘½åè§„åˆ™ä¸ºå¤§å†™é©¼å³°çš„ `Univer<PluginName>`ã€‚

### ç²¾ç®€ç‰ˆæœ¬

å¦‚æœä½ çš„é¡¹ç›®ä¸­å·²ç»ä½¿ç”¨äº† Reactã€ReactDOM å’Œ RxJSï¼Œä½ å¯ä»¥é€‰æ‹© UMD åŒ…çš„ç²¾ç®€ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬ä¸åŒ…å«è¿™äº›ä¾èµ–é¡¹ã€‚

```diff
+ <script src="https://unpkg.com/react/umd/react.production.min.js"></script>
+ <script src="https://unpkg.com/react-dom/umd/react-dom.production.min.js"></script>
+ <script src="https://unpkg.com/rxjs/dist/bundles/rxjs.umd.min.js"></script>
 
- <script src="https://unpkg.com/@univerjs/umd/lib/univer.full.umd.js"></script>
+ <script src="https://unpkg.com/@univerjs/umd/lib/univer.slim.umd.js"></script>
<link rel="stylesheet" href="https://unpkg.com/@univerjs/umd/lib/univer.css">
```

### æŒ‡å®šç‰ˆæœ¬

unpkg å’Œ jsDeliver éƒ½æ”¯æŒæŒ‡å®šç‰¹å®šç‰ˆæœ¬çš„èµ„æºã€‚ä»¥ unpkg ä¸ºä¾‹ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨ 0.1.16 ç‰ˆæœ¬çš„ Univerï¼Œä»…éœ€åœ¨ URL ä¸­åŠ ä¸Š `@<version>` æ¥æŒ‡å®šç‰ˆæœ¬å³å¯ï¼š

```diff
- https://unpkg.com/@univerjs/umd/lib/univer.full.umd.js
+ https://unpkg.com/@univerjs/umd@0.1.16/lib/univer.full.umd.js
```

---

[^1]: https://blog.npmjs.org/post/110924823920/npm-weekly-5
[^2]: https://pnpm.io/npmrc#auto-install-peers
[^3]: https://github.com/yarnpkg/yarn/issues/1503
